{{ define "objects/show.html" }}

{{ template "shared/_header.html" .}}

<script>
 function filterFiles(state) {
     let filter = document.getElementById("fileFilter").value
     let url = "/objects/files/{{ .object.ID }}/?file_filter=" + encodeURIComponent(filter) + "&state=" + encodeURIComponent(state)
     APT.loadIntoElement("get", url, "objFileList")
 }
</script>

<h1>{{ .object.Title }}</h1>

<!-- https://bencoveney.github.io/Milligrid/#nesting -->

<div class="container object-detail">

  <!-- First Row: Intellectual Object -->
  <div class="row">
    <!-- Top Left Box: Contains object summary -->
    <div class="column column-67 rounded-box">
      {{ template "objects/_object_summary.html" . }}
    </div>

    <!-- Top Right Box: Buttons and events -->
    <div class="column column-33 rounded-box">
      <div class="row">
        {{ if eq .object.State "A" }}
        {{ template "objects/_delete_restore.html" . }}
        {{ end }}
      </div>
      <div class="row">
        {{ template "objects/_events.html" . }}
      </div>
    </div>
  </div>


  <!-- Second Row: File Summary -->
  <div class="row">
    <div class="column column-100 rounded-box">
      {{ template "objects/_file_summary.html" . }}
    </div>
  </div>


  <!-- Third Row: Active Files -->
  <div class="row">
    <div class="column column-100 rounded-box" id="objFileList">
      {{ template "objects/_file_list.html" . }}
    </div>
  </div>


</div> <!-- end container -->


{{ template "shared/_footer.html" .}}


{{ end }}
